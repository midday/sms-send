(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0de9":function(t,e,n){"use strict";function o(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function s(){return"string"===typeof __channelId__&&__channelId__}function r(t,e){switch(o(e)){case"Function":return"function() { [native code] }";default:return e}}function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];console[t].apply(console,n)}function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e.shift();if(s())return e.push(e.pop().replace("at ","uni-app:///")),console[a].apply(console,e);var i=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,r)+"---END:JSON---"}catch(s){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var n=o(t).toUpperCase();t="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+t+"---END:"+n+"---":String(t)}return t})),u="";if(i.length>1){var c=i.pop();u=i.join("---COMMA---"),0===c.indexOf(" at ")?u+=c:u+="---COMMA---"+c}else u=i[0];console[a](u)}n.r(e),n.d(e,"log",(function(){return a})),n.d(e,"default",(function(){return i}))},"128f":function(t,e,n){"use strict";n.r(e);var o=n("d19e"),s=n("56f3");for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);var a,i=n("f0c5"),u=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=u.exports},"2d10":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={onLaunch:function(){t("log","App Launch"," at App.vue:4")},onShow:function(){t("log","App Show"," at App.vue:7")},onHide:function(){t("log","App Hide"," at App.vue:10")}};e.default=n}).call(this,n("0de9")["default"])},"56f3":function(t,e,n){"use strict";n.r(e);var o=n("a801"),s=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=s.a},"5e79":function(t,e,n){"use strict";n("a0db");var o=r(n("8bbf")),s=r(n("a869"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o.default.config.productionTip=!1,s.default.mpType="app";var c=new o.default(i({},s.default));c.$mount()},6073:function(t,e,n){"use strict";function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{userInfo:{},phoneInfo:{},salutation:"",templateContent:"",templateList:[]}},onNavigationBarButtonTap:function(){uni.setStorageSync("userInfo",s(s({},this.userInfo),{},{token:""})),plus.runtime.quit()},created:function(){this.userInfo=uni.getStorageSync("userInfo")||{},this.getTemplateList()},computed:{belong:function(){return this.phoneInfo.area&&this.phoneInfo.sp?"".concat(this.phoneInfo.area," ").concat(this.phoneInfo.sp):""}},methods:{copyPhoneNumber:function(){this.phoneNumber&&uni.setClipboardData({data:this.phoneNumber})},getTemplateList:function(){var t=this;uni.request({url:"http://175.24.113.82:7001/api/getTemplateList",header:{Authorization:this.userInfo.token},data:{pageNo:1,pageSize:100},method:"POST",dataType:"json",success:function(e){var n=e.data,o=n.code,s=n.data,r=n.msg;0===o?(t.templateList=s.data,t.templateList.length>0&&(t.templateContent=t.templateList[0].content)):401===o?t.jumpLoginPage():uni.showToast({title:r,icon:"none"})}})},sendMessage:function(){if("android"===uni.getSystemInfoSync().platform){var t=plus.messaging.createMessage(plus.messaging.TYPE_SMS);t.to=["18612186696"],t.body=this.salutation+this.templateContent,plus.messaging.sendMessage(t)}},clickSendBtn:function(){this.phoneInfo.phoneNumber&&(this.sendMessage(),this.updatePhone(s(s({},this.phoneInfo),{},{sendPhoneNumber:this.username,sendContent:this.salutation+this.templateContent,sendTime:new Date,status:"SENDED"}))),this.getNextPhoneNumber()},clickNotSendBtn:function(){this.phoneInfo.phoneNumber&&this.updatePhone(s(s({},this.phoneInfo),{},{status:"INVALID"})),this.getNextPhoneNumber()},getNextPhoneNumber:function(){var t=this;uni.request({url:"http://175.24.113.82:7001/api/getNextPhoneNumber",header:{Authorization:this.userInfo.token},method:"POST",dataType:"json",success:function(e){var n=e.data,o=n.code,s=n.data,r=n.msg;if(401!==e.data.code)if(0===o){var a=s._id,i=s.phoneNumber,u=s.area,c=s.sp;t.phoneInfo={_id:a,phoneNumber:i,area:u,sp:c}}else 401===o?t.jumpLoginPage():uni.showToast({title:r,icon:"none"});else t.jumpLoginPage()}})},updatePhone:function(t){var e=this;uni.request({url:"http://175.24.113.82:7001/api/updatePhone",header:{Authorization:this.userInfo.token},data:s({},t),method:"POST",dataType:"json",success:function(t){uni.hideLoading(),401!==t.data.code?0===t.data.code?e.getNextPhoneNumber():uni.showToast({title:t.data.msg,icon:"none"}):e.jumpLoginPage()}})},jumpLoginPage:function(){uni.setStorageSync("userInfo",s(s({},this.userInfo),{},{token:""})),uni.redirectTo({url:"/pages/login/login"})}}};e.default=a},"6c75":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","container"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","phone-wrap"),attrs:{_i:1}},[n("view",{staticClass:t._$s(2,"sc","phone"),attrs:{_i:2},on:{click:t.copyPhoneNumber}},[t._v(t._$s(2,"t0-0",t._s(this.phoneInfo.phoneNumber||"\u8bf7\u52a0\u8f7d\u624b\u673a\u53f7")))]),n("view",{staticClass:t._$s(3,"sc","belong"),attrs:{_i:3}},[t._v(t._$s(3,"t0-0",t._s(t.belong||"\u5f52\u5c5e\u5730")))])]),n("view",{staticClass:t._$s(4,"sc","salutation-wrap"),attrs:{_i:4}},[n("label",{staticClass:t._$s(5,"sc","salutation-label"),attrs:{_i:5}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.salutation,expression:"salutation"}],staticClass:t._$s(6,"sc","salutation-input"),attrs:{_i:6},domProps:{value:t._$s(6,"v-model",t.salutation)},on:{input:function(e){e.target.composing||(t.salutation=e.target.value)}}})]),n("view",{staticClass:t._$s(7,"sc","btn-wrap"),attrs:{_i:7}},[n("button",{staticClass:t._$s(8,"sc","btn"),attrs:{_i:8},on:{click:t.clickNotSendBtn}}),n("button",{staticClass:t._$s(9,"sc","btn"),attrs:{_i:9},on:{click:t.clickSendBtn}})]),n("view",{staticClass:t._$s(10,"sc","btn-wrap"),attrs:{_i:10}},t._l(t._$s(11,"f",{forItems:t.templateList}),(function(e,o,s,r){return n("button",{key:t._$s(11,"f",{forIndex:s,key:e._id}),staticClass:t._$s("11-"+r,"sc","btn"),attrs:{_i:"11-"+r},on:{click:function(n){t.templateContent=e.content}}},[t._v(t._$s("11-"+r,"t0-0",t._s(e.name)))])})),0),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.templateContent,expression:"templateContent"}],staticClass:t._$s(12,"sc","template-content"),attrs:{_i:12},domProps:{value:t._$s(12,"v-model",t.templateContent)},on:{input:function(e){e.target.composing||(t.templateContent=e.target.value)}}})])},r=[]},"8bbf":function(t,e){t.exports=Vue},a0db:function(t,e,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("ace9").default)})),__definePage("pages/login/login",(function(){return Vue.extend(n("128f").default)}))},a66a:function(t,e,n){"use strict";n.r(e);var o=n("6073"),s=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=s.a},a801:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{userInfo:{username:"",password:""}}},created:function(){var t=uni.getStorageSync("userInfo")||{},e=t.token,n=t.username,o=t.password;e?uni.redirectTo({url:"/pages/index/index"}):this.userInfo={username:n,password:o}},methods:{bindLogin:function(){uni.request({url:"http://175.24.113.82:7001/api/login",data:this.userInfo,method:"POST",dataType:"json",success:function(t){var e=t.data,n=e.code,o=e.data,s=e.msg;0===n?(uni.setStorageSync("userInfo",{token:o.token,username:o.userInfo.username||"",password:o.userInfo.password||""}),uni.redirectTo({url:"/pages/index/index"})):uni.showToast({title:s,icon:"none"})}})}}};e.default=o},a869:function(t,e,n){"use strict";n.r(e);var o=n("dc50");for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);var r,a,i,u,c=n("f0c5"),l=Object(c["a"])(o["default"],r,a,!1,null,null,null,!1,i,u);e["default"]=l.exports},ace9:function(t,e,n){"use strict";n.r(e);var o=n("6c75"),s=n("a66a");for(var r in s)"default"!==r&&function(t){n.d(e,t,(function(){return s[t]}))}(r);var a,i=n("f0c5"),u=Object(i["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);e["default"]=u.exports},d19e:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:t._$s(0,"sc","content"),attrs:{_i:0}},[n("view",{staticClass:t._$s(1,"sc","header"),attrs:{_i:1}},[n("image",{attrs:{_i:2}})]),n("view",{staticClass:t._$s(3,"sc","list"),attrs:{_i:3}},[n("view",{staticClass:t._$s(4,"sc","list-call"),attrs:{_i:4}},[n("image",{staticClass:t._$s(5,"sc","img"),attrs:{_i:5}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.username,expression:"userInfo.username"}],staticClass:t._$s(6,"sc","sl-input"),attrs:{_i:6},domProps:{value:t._$s(6,"v-model",t.userInfo.username)},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"username",e.target.value)}}})]),n("view",{staticClass:t._$s(7,"sc","list-call"),attrs:{_i:7}},[n("image",{staticClass:t._$s(8,"sc","img"),attrs:{_i:8}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.password,expression:"userInfo.password"}],staticClass:t._$s(9,"sc","sl-input"),attrs:{_i:9},domProps:{value:t._$s(9,"v-model",t.userInfo.password)},on:{input:function(e){e.target.composing||t.$set(t.userInfo,"password",e.target.value)}}})])]),n("view",{staticClass:t._$s(10,"sc","button-login"),attrs:{_i:10},on:{click:t.bindLogin}})])},r=[]},dc50:function(t,e,n){"use strict";n.r(e);var o=n("2d10"),s=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=s.a},f0c5:function(t,e,n){"use strict";function o(t,e,n,o,s,r,a,i,u,c){var l,f="function"===typeof t?t.options:t;if(u){f.components||(f.components={});var p=Object.prototype.hasOwnProperty;for(var d in u)p.call(u,d)&&!p.call(f.components,d)&&(f.components[d]=u[d])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(f.mixins||(f.mixins=[])).push(c)),e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),o&&(f.functional=!0),r&&(f._scopeId="data-v-"+r),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},f._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(f.functional){f._injectStyles=l;var h=f.render;f.render=function(t,e){return l.call(e),h(t,e)}}else{var m=f.beforeCreate;f.beforeCreate=m?[].concat(m,l):[l]}return{exports:t,options:f}}n.d(e,"a",(function(){return o}))}},[["5e79","app-config"]]]);